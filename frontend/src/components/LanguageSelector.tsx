import React, { useState } from 'react';
import '../styles/LanguageSelector.css';

// Define the supported languages with their icons and names
const languages = [
  { 
    id: 'react', 
    name: 'React.js', 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
        <path fill="#61DAFB" d="M12 9.861a2.139 2.139 0 100 4.278 2.139 2.139 0 100-4.278zm-5.992 6.394c-.36-.667-.655-1.38-.879-2.121.223-.742.518-1.455.879-2.121.36.667.655 1.38.879 2.121-.224.742-.519 1.454-.879 2.121zm1.673-5.708a16.108 16.108 0 00-1.125 2.004c-.055.161-.105.326-.153.494a17.921 17.921 0 000 3.898c.048.168.098.333.153.494.352.71.725 1.39 1.125 2.004.636.82 1.259 1.454 1.878 1.909-1.582-1.2-2.956-3.436-3.817-6.175a9.524 9.524 0 010-4.267c.861-2.739 2.235-4.975 3.817-6.175-.619.455-1.242 1.09-1.878 1.909a16.108 16.108 0 00-1.125 2.004c-.055.161-.105.326-.153.494a17.919 17.919 0 000 3.898c.048.168.098.333.153.494.352.71.725 1.39 1.125 2.004.636.82 1.259 1.454 1.878 1.909-1.582-1.2-2.956-3.436-3.817-6.175a9.524 9.524 0 010-4.267c.861-2.739 2.235-4.975 3.817-6.175-.619.455-1.242 1.09-1.878 1.909zm9.638 5.708c-.36.667-.655 1.38-.879 2.121-.224-.742-.519-1.454-.879-2.121.36-.667.655-1.38.879-2.121.224.742.519 1.454.879 2.121zm-1.673-5.708c.636-.82 1.259-1.454 1.878-1.909-1.582 1.2-2.956 3.436-3.817 6.175a9.524 9.524 0 000 4.267c.861 2.739 2.235 4.975 3.817 6.175-.619-.455-1.242-1.09-1.878-1.909a16.108 16.108 0 01-1.125-2.004c-.055-.161-.105-.326-.153-.494a17.919 17.919 0 010-3.898c.048-.168.098-.333.153-.494.352-.71.725-1.39 1.125-2.004.636-.82 1.259-1.454 1.878-1.909-1.582 1.2-2.956 3.436-3.817 6.175a9.524 9.524 0 000 4.267c.861 2.739 2.235 4.975 3.817 6.175-.619-.455-1.242-1.09-1.878-1.909a16.108 16.108 0 01-1.125-2.004c-.055-.161-.105-.326-.153-.494a17.921 17.921 0 010-3.898c.048-.168.098-.333.153-.494.352-.71.725-1.39 1.125-2.004zM12 16.222a4.222 4.222 0 110-8.444 4.222 4.222 0 010 8.444z"/>
      </svg>
    )
  },
  { 
    id: 'c', 
    name: 'C', 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
        <text x="50%" y="50%" dominantBaseline="middle" textAnchor="middle" fontSize="16" fontWeight="bold" fill="#283593">C</text>
      </svg>
    )
  },
  { 
    id: 'csharp', 
    name: 'C#', 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
        <text x="50%" y="50%" dominantBaseline="middle" textAnchor="middle" fontSize="16" fontWeight="bold" fill="#68217A">C#</text>
      </svg>
    )
  },
  { 
    id: 'javascript', 
    name: 'JavaScript', 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
        <rect width="24" height="24" fill="#F7DF1E" />
        <path d="M6.667 19.333l1.88-1.14c.362.64.692 1.182 1.482 1.182.758 0 1.24-.296 1.24-1.449v-7.818h2.308v7.85c0 2.39-1.402 3.476-3.446 3.476-1.848 0-2.918-.957-3.464-2.11" fill="#000" />
        <path d="M14.667 19.073l1.88-1.09c.495.809 1.14 1.406 2.28 1.406 1.055 0 1.65-.462 1.65-1.14 0-.791-.627-1.07-1.683-1.53l-.578-.248c-1.667-.71-2.775-1.6-2.775-3.48 0-1.732 1.32-3.05 3.38-3.05 1.467 0 2.52.51 3.282 1.848l-1.797 1.155c-.396-.71-.824-.99-1.485-.99-.676 0-1.104.429-1.104.99 0 .693.428.973 1.418 1.4l.578.248c1.964.842 3.074 1.7 3.074 3.63 0 2.078-1.633 3.215-3.825 3.215-2.143 0-3.53-.99-4.206-2.308" fill="#000" />
      </svg>
    )
  },
  { 
    id: 'python', 
    name: 'Python', 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
        <path d="M11.914 0C5.82 0 6.2 2.656 6.2 2.656l.007 2.752h5.814v.826H3.9S0 5.789 0 11.969c0 6.18 3.403 5.96 3.403 5.96h2.03v-2.867s-.109-3.42 3.35-3.42h5.766s3.24.052 3.24-3.148V3.202S18.28 0 11.913 0zm-3.24 1.632c.578 0 1.046.47 1.046 1.054 0 .583-.468 1.056-1.046 1.056-.579 0-1.046-.473-1.046-1.056 0-.584.467-1.054 1.046-1.054z" fill="#366994" />
        <path d="M12.086 24c6.09 0 5.712-2.656 5.712-2.656l-.007-2.752h-5.814v-.826h8.123s3.9.445 3.9-5.735c0-6.18-3.404-5.96-3.404-5.96h-2.03v2.867s.109 3.42-3.35 3.42H9.451s-3.24-.052-3.24 3.148v5.292S5.72 24 12.086 24zm3.24-1.632c-.579 0-1.046-.47-1.046-1.054 0-.583.467-1.056 1.046-1.056.578 0 1.046.473 1.046 1.056 0 .584-.468 1.054-1.046 1.054z" fill="#FFD43B" />
      </svg>
    )
  },
  { 
    id: 'java', 
    name: 'Java', 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
        <path d="M8.851 18.56s-.917.534.653.714c1.902.218 2.874.187 4.969-.211 0 0 .552.346 1.321.646-4.699 2.013-10.633-.118-6.943-1.149M8.276 15.933s-1.028.761.542.924c2.032.209 3.636.227 6.413-.308 0 0 .384.389.987.602-5.679 1.661-12.007.13-7.942-1.218M13.116 11.475c1.158 1.333-.304 2.533-.304 2.533s2.939-1.518 1.589-3.418c-1.261-1.772-2.228-2.652 3.007-5.688 0-.001-8.216 2.051-4.292 6.573M19.33 20.504s.679.559-.747.991c-2.712.822-11.288 1.069-13.669.033-.856-.373.75-.89 1.254-.998.527-.114.828-.93.828-.093-1.013-.714-6.438 1.374-2.765 1.967 10.038 1.616 18.298-.72 15.099-1.9M9.292 13.21s-4.562 1.083-1.615 1.477c1.243.167 3.724.13 6.033-.065 1.889-.162 3.783-.506 3.783-.506s-.665.285-1.147.614c-4.628 1.217-13.577.65-11.007-.594 2.174-1.055 3.953-.926 3.953-.926M17.116 17.584c4.704-2.445 2.53-4.798 1.012-4.491-.372.077-.537.143-.537.143s.138-.215.402-.308c3.003-1.056 5.312 3.123-1.012 4.781 0 0 .076-.068.135-.125M14.401 0s2.494 2.494-2.365 6.33c-3.896 3.077-.888 4.832-.001 6.836-2.274-2.053-3.943-3.858-2.824-5.539 1.644-2.469 6.197-3.665 5.19-7.627M9.734 23.924c4.322.277 10.959-.153 11.116-2.198 0 0-.302.775-3.572 1.391-3.688.694-8.239.613-10.937.168 0 0 .553.457 3.393.639" fill="#F8981D" />
      </svg>
    )
  },
];

interface LanguageSelectorProps {
  onSelectLanguage: (languageId: string) => void;
  selectedLanguage?: string;
}

const LanguageSelector: React.FC<LanguageSelectorProps> = ({ 
  onSelectLanguage, 
  selectedLanguage = 'react' 
}) => {
  const [isOpen, setIsOpen] = useState(false);

  const handleLanguageClick = (languageId: string) => {
    onSelectLanguage(languageId);
    setIsOpen(false);
  };

  const selectedLang = languages.find(lang => lang.id === selectedLanguage) || languages[0];

  return (
    <div className="language-selector">
      <div 
        className="selected-language"
        onClick={() => setIsOpen(!isOpen)}
      >
        <div className="language-icon">{selectedLang.icon}</div>
        <div className="language-name">{selectedLang.name}</div>
      </div>
      
      {isOpen && (
        <div className="language-dropdown">
          {languages.map(language => (
            <div 
              key={language.id}
              className={`language-option ${selectedLanguage === language.id ? 'active' : ''}`}
              onClick={() => handleLanguageClick(language.id)}
            >
              <div className="language-icon">{language.icon}</div>
              <div className="language-name">{language.name}</div>
            </div>
          ))}
        </div>
      )}
    </div>
  );
};

export default LanguageSelector;